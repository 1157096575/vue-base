<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <style>
        
    </style>
    <script src="../vue.js"></script>
    <!-- <script type="text/javascript" src="../vue-1.js"></script> -->
    
</head>
<body>
    <div id="box">
        <span v-myred>sssssd</span>

    </div>

    <div id="app">
　　<input type="text" v-focus="name" v-model="name" :data-name="name">
　　<button type="button" @click="name='zw'">click</button>

　　<!--当点击按钮的时候name改变，继而触发update中的方法-->
</div>
</body>
    <script>

        Vue.directive('focus',{
    　　　　bind: function(el, binding){
            console.log(el);
            console.log(binding);
    　　　　console.log('bind:',binding.value);
    　　},
    　　inserted: function(el, binding){
    　　　　console.log('insert:',binding.value);
    　　},
    　　update: function(el, binding, vnode, oldVnode){
    　　　　el.focus();
    　　　　console.log(el.dataset.name);//这里的数据是可以动态绑定的
    　　　　console.table({
    　　　　　　name:binding.name,
    　　　　　　value:binding.value,
    　　　　　　oldValue:binding.oldValue,
    　　　　　　expression:binding.expression,
    　　　　　　arg:binding.arg,
    　　　　　　modifiers:binding.modifiers,
    　　　　　　vnode:vnode,
    　　　　　　oldVnode:oldVnode
    　　　　});
    　　},
    　　componentUpdated: function(el, binding){
    　　　　console.log('componentUpdated:',binding.name);
    　　}
    });
    new Vue({
    　　el:'#app',
    　　data:{
    　　　　name:'zwzhai'
    　　}
    });




    window.onload = function(){
        Vue.directive('myred',{
            bind : function(el){
                console.log(el);
                console.log(1);
            },
            inserted: function () {
                console.log(2);
            },
            update: function () {
                console.log(3);
            },
            componentUpdated: function () {
                console.log(4);
            },
            unbind: function () {
                console.log(5);
            }
        })
        var vm = new Vue({
            el : '#box',
            data : {
                msg : 'welcom',
                a : 'blue'
            }
        })
    };
    </script>
</html>
